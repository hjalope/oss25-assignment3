<!doctype html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>일정 추가</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
  <button class="btn btn-primary shadow-sm mb-4 ps-4 pe-4" id="makedate">
      <span class="fs-5 me-2">+</span> 만들기
  </button>

  <dialog id="myModal">
    <form action=index.html method="get" target="_parent">
      <input type="text" id="todo" name="todo" placeholder="제목 추가" class="form-control mb-3" required>
      
      <div id="eventButtons" class="d-flex gap-2 mb-3">
        <button type="button" class="btn btn-outline-primary" data-value="이벤트">이벤트</button>
        <button type="button" class="btn btn-outline-primary" data-value="할 일">할 일</button> 
        <button type="button" class="btn btn-outline-primary" data-value="약속 일정">약속 일정</button>
      </div>
  
      <input type="hidden" id="eventType" name="eventType">
  
      <input type="date" id="date" name="date" required>
      <br><br>
      <input type="time" id="time" name="time" required>
      <br><br>
      <textarea id="description" name="description" placeholder="설명추가"></textarea>
      <br>
      <select id="todolist" name="todolist" required>
        <option value="no-offline">no-offline</option>
        <option value="zoom">zoom</option>
        <option value="meet">meet</option>
      </select>
      <br><br>
  
      <button type="button" class="btn btn-secondary" id="close">Close</button>
      <button type="submit" class="btn btn-primary" id="save">Save</button>
    </form>
  </dialog>
  

  
</body>
</html>


<script>
    const modalBtn = document.getElementById("makedate");
    const modal = document.getElementById("myModal");
    
    modalBtn.addEventListener("click", () => {
        modal.showModal();
    });

    const eventButtons = document.querySelectorAll("#eventButtons button");
    const eventTypeInput = document.getElementById("eventType");

    eventButtons.forEach(btn => {
        btn.addEventListener("click", () => {
            eventButtons.forEach(b => b.classList.remove("active", "btn-primary"));
            eventButtons.forEach(b => b.classList.add("btn-outline-primary"));
            btn.classList.remove("btn-outline-primary");
            btn.classList.add("btn-primary", "active");

            eventTypeInput.value = btn.dataset.value;
        });
    });

    const closeBtn = document.getElementById("close");
    closeBtn.addEventListener("click", () => {
        modal.close();
    });

    const saveBtn = document.getElementById("save");
    saveBtn.addEventListener("click", () => {
        setTimeout(() => {
            if (document.querySelector("form").checkValidity()) {
                alert("일정을 추가했습니다.");
            }
        }, 10);
    });
</script>